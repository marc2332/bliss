#=== Define default shell to use ===================================
#set-option -g default-shell /usr/bin/zsh

#=== Enable mouse in a virtual terminal (> version 2.1) ============
set-option -g mouse on

#=== Modify the prefix =============================================
set-option -g prefix C-a

#=== No status bar =================================================
set-option -g status off

#=== Use vi copy-mode ==============================================
set-window-option -g mode-keys vi

#=== Bind F5 to switch window and clear copy selection =============
bind -n F5 if -F -t= '#{pane_in_mode}' 'send -X cancel' \; next-window

bind -n C-c if -F '#{==:#W,scan}' 'next-window' \; send -t bliss C-c

#=== Copy paste with mouse =========================================

#---Copy with Left click dragged (using 'primary' buffer instead of 'clipboard')
unbind -Tcopy-mode-vi MouseDragEnd1Pane
# bind -Tcopy-mode-vi MouseDragEnd1Pane send -X copy-selection \; run "tmux save-buffer - | xclip -i -selection primary > /dev/null && tmux save-buffer - | xclip -i -selection clipboard > /dev/null"
bind   -Tcopy-mode-vi MouseDragEnd1Pane send -X copy-pipe "xclip -in -selection primary"

#---Paste with Middle click (using 'primary' buffer instead of 'clipboard')
unbind -n MouseDown2Pane
bind   -n MouseDown2Pane select-pane\; run "tmux set-buffer \"$(xclip -o -selection primary)\"; tmux paste-buffer" \; if -F -t= '#{pane_in_mode}' 'send -X cancel'

#---Double Left Mouse Button Select & Copy (Word)
bind -T copy-mode-vi DoubleClick1Pane select-pane \; send-keys -X select-word \; send-keys -X copy-pipe "xclip -in -sel primary"
bind -n DoubleClick1Pane select-pane \; copy-mode -M \; send-keys -X select-word \; send-keys -X copy-pipe "xclip -in -sel primary"

#---Triple Left Mouse Button Select & Copy (Line)
bind -T copy-mode-vi TripleClick1Pane select-pane \; send-keys -X select-line \; send-keys -X copy-pipe "xclip -in -sel primary"
bind -n TripleClick1Pane select-pane \; copy-mode -M \; send-keys -X select-line \; send-keys -X copy-pipe "xclip -in -sel primary"

#---Exit copy-mode with a Right click
bind -Tcopy-mode-vi MouseDown3Pane if -F -t= '#{pane_in_mode}' 'send -X cancel'

#---Define separator for the Word selection
set-option -g word-separators  "; @()\'\`\""   #"

#---Native xterm scrolling
#set -g terminal-overrides "xterm*:XT:smcup@:rmcup@:kUP5=\eOA:kDN5=\eOB:kLFT5=\eOD:kRIT5=\eOC"
#set -ga terminal-overrides ',xterm*:smcup@:rmcup@'
#set -g terminal-overrides 'xterm*:smcup@:rmcup@'

#=== Tip and tricks =============================================

#---Display a message
#bind -n m set-option mouse\; display-message "Mouse is now #{?mouse,on,off}" 

#set -g set-clipboard on

#---Unbind all keys
#unbind -a
#unbind -a -Tcopy-mode
#unbind -a -Tcopy-mode-vi

#---Turn the mouse on, but without copy mode dragging
#unbind -n MouseDrag1Pane
#unbind -Tcopy-mode MouseDrag1Pane
#unbind -Tcopy-mode MouseDragEnd1Pane

#bind -Tcopy-mode-vi MouseDown1Pane select-pane
#bind -Tcopy-mode-vi MouseDrag1Pane select-pane\; send -X begin-selection
#bind -Tcopy-mode-vi MouseDragEnd1Pane send -X copy-selection-and-cancel
#bind -Tcopy-mode-vi WheelUpPane select-pane\; send -N5 -X scroll-up
#bind -Tcopy-mode-vi WheelDownPane select-pane\; send -N5 -X scroll-down
#bind -Tcopy-mode-vi DoubleClick1Pane select-pane\; send -X select-word
#bind -Tcopy-mode-vi TripleClick1Pane select-pane\; send -X select-line

#---???---------
#bind -n MouseDrag1Pane if -Ft= '#{mouse_any_flag}' 'if -Ft= \"#{pane_in_mode}\" \"copy-mode -M\" \"send-keys -M\"' 'copy-mode -M'
#bind -n MouseDown3Pane if-shell -Ft= '#{mouse_any_flag}' 'select-pane -t=; send-keys -M' 'select-pane -mt='
#bind -n WheelUpPane if-shell -Ft= '#{mouse_any_flag}' 'send-keys -M' 'if -Ft= \"#{pane_in_mode}\" \"send-keys -M\" \"copy-mode -et=\"'
#bind -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" "send-keys -M" "if -Ft= '#{pane_in_mode}' 'send-keys -M' 'copy-mode -e; send-keys -M'"

#---Native xterm scrolling
#set -g terminal-overrides "xterm*:XT:smcup@:rmcup@:kUP5=\eOA:kDN5=\eOB:kLFT5=\eOD:kRIT5=\eOC"
#set -ga terminal-overrides ',xterm*:smcup@:rmcup@'
#set -g terminal-overrides 'xterm*:smcup@:rmcup@'







