<html>
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Beacon configuration application</title>
        <script language="JavaScript" type="text/javascript" src="js/jquery-2.1.3.min.js"></script>
        <script language="JavaScript" type="text/javascript" src="js/jquery-ui.min.js"></script>
        <link rel="stylesheet" href="css/smoothness_jquery-ui.css"></link>
        <script language="JavaScript" type="text/javascript" src="js/jquery.layout.min.js"></script>
        <link rel="stylesheet" href="css/layout-default.min.css"></link>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jstree/3.0.9/themes/default/style.min.css" />
        <script src="//cdnjs.cloudflare.com/ajax/libs/jstree/3.0.9/jstree.min.js"></script> 
        <script src="js/config_app.js"></script> 
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="ui-layout-west">
      <div id="container">
      </div>
    </div>
    <div class="ui-layout-center">
      <div id="edit_panel"></div>
    </div>
    <script>
      $(function() {
          $("body").layout({ applyDefaultStyles: false, west__size: '30%' });
          populate_tree($("#container"));

          $("#container").bind("select_node.jstree", function(ev, data) {
            var node_name = data.node.text;
 
            $.get("objects/"+node_name, function(data) {
              $("#edit_panel").empty();
              var form = $("<form></form>");
              $("#edit_panel").append(form);
              $.each(data, function(key, value) {
                var label = $("<label></label>");
                label.html(key);
                var input_field = $("<input></input>");
                input_field.attr("value", value);
                input_field.attr("type", "text");
                form.append(label);
                form.append(input_field);
                form.append("<br>");
              });
            }, "json");
         });
      });
    </script>
  </body>
</html>
